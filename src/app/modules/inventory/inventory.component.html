<h2>Inventario</h2>

<form (ngSubmit)="addItem()" class="form">
  <input
    type="text"
    name="name"
    placeholder="Nombre"
    [(ngModel)]="newItem.name"
    required
  />
  <input
    type="number"
    name="qty"
    placeholder="Cantidad"
    [(ngModel)]="newItem.qty"
    required
  />
  <input
    type="text"
    name="category"
    placeholder="Categoría"
    [(ngModel)]="newItem.category"
    required
  />
  <button type="submit" class="primary">
    {{ editingIndex !== null ? 'Guardar' : 'Agregar' }}
  </button>
  <button *ngIf="editingIndex !== null" type="button" (click)="cancelEdit()">Cancelar</button>
</form>

<table class="list" *ngIf="items.length">
  <thead>
    <tr>
      <th>Nombre</th>
      <th>Cantidad</th>
      <th>Categoría</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let i of items; let idx = index">
      <td>{{ i.name }}</td>
      <td>{{ i.qty }}</td>
      <td>{{ i.category }}</td>
      <td>
        <button (click)="editItem(idx)">Editar</button>
        <button (click)="items.splice(idx,1)">Eliminar</button>
      </td>
    </tr>
  </tbody>
</table>
